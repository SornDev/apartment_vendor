import{m as w,h as g}from"./ulmixins-3GuYya29.js";import{_ as f,o as c,c as i,a as s,t as o,n as d,w as v,v as x,F as y,r as k,b as l,d as Y,e as h,f as D,g as m}from"./app-R5zms-zh.js";import{C as T,r as P,D as $}from"./index-YFxrcPsI.js";const C={mixins:[w],data(){return{DocWork:[0,0,0,0,0,""],DocPadding:[0,0,0,0,0,""],Income:[0,0,0,0,0,""],Expense:[0,0,0,0,0,""]}},methods:{getAllData(){this.GetData("gettran/dashtop",e=>{this.DocWork=e.DocWork,this.DocPadding=e.DocPadding,this.Income=e.Income,this.Expense=e.Expense})}},created(){this.getAllData()}},E={class:"row"},G={class:"col-sm-6 col-lg-3 mb-4"},N={class:"card card-border-shadow-primary h-100"},j={class:"card-body"},W={class:"d-flex align-items-center mb-2 pb-1 justify-content-between"},I=s("div",{class:"avatar me-2"},[s("span",{class:"avatar-initial rounded bg-label-primary"},[s("i",{class:"bx bx-notepad fs-3"})])],-1),V={class:"ms-1 mb-0"},M={class:"mb-1"},A={class:"fw-medium me-1"},B={class:"text-muted"},F={class:"col-sm-6 col-lg-3 mb-4"},z={class:"card card-border-shadow-warning h-100"},O={class:"card-body"},R={class:"d-flex align-items-center mb-2 pb-1 justify-content-between"},S=s("div",{class:"avatar me-2"},[s("span",{class:"avatar-initial rounded bg-label-warning"},[s("i",{class:"bx bx-info-circle fs-3"})])],-1),U={class:"ms-1 mb-0"},L={class:"mb-1"},q={class:"fw-medium me-1"},H={class:"text-muted"},J={class:"col-sm-6 col-lg-3 mb-4"},K={class:"card card-border-shadow-info h-100"},Q={class:"card-body"},X={class:"d-flex align-items-center mb-2 pb-1 justify-content-between"},Z=s("div",{class:"avatar me-2"},[s("span",{class:"avatar-initial rounded bg-label-info"},[s("i",{class:"bx bx-task fs-3"})])],-1),ss={class:"ms-1 mb-0"},ts={class:"mb-1"},es={class:"fw-medium me-1"},os={class:"text-muted"},as={class:"col-sm-6 col-lg-3 mb-4"},ns={class:"card card-border-shadow-danger h-100"},cs={class:"card-body"},is={class:"d-flex align-items-center mb-2 pb-1 justify-content-between"},ds=s("div",{class:"avatar me-2"},[s("span",{class:"avatar-initial rounded bg-label-danger"},[s("i",{class:"bx bx-shield-minus fs-3"})])],-1),ls={class:"ms-1 mb-0"},rs={class:"mb-1"},_s={class:"fw-medium me-1"},hs={class:"text-muted"};function ms(e,n,r,_,t,p){return c(),i("div",E,[s("div",G,[s("div",N,[s("div",j,[s("div",W,[I,s("h4",V,o(e.formatPrice(t.DocWork[1])),1)]),s("p",M,"ວຽກເອກະສານເດືອນນີ້: "+o(e.formatPrice(t.DocWork[2])),1),s("p",{class:d(["mb-0",t.DocWork[4]>0?"text-success":"text-danger"])},[s("span",A,o(t.DocWork[4])+"%",1),s("small",B,o(t.DocWork[5]),1)],2)])])]),s("div",F,[s("div",z,[s("div",O,[s("div",R,[S,s("h4",U,o(e.formatPrice(t.DocPadding[1])),1)]),s("p",L,"ລໍດຳເນີນການເດືອນນິ້: "+o(t.DocPadding[2]),1),s("p",{class:d(["mb-0",t.DocPadding[4]>0?"text-success":"text-danger"])},[s("span",q,o(t.DocPadding[4])+"%",1),s("small",H,o(t.DocPadding[5]),1)],2)])])]),s("div",J,[s("div",K,[s("div",Q,[s("div",X,[Z,s("h4",ss,o(e.formatPrice(t.Income[1]))+" ₭",1)]),s("p",ts,"ລາຍຮັບເດືອນນີ້: "+o(e.formatPrice(t.Income[2]))+" ₭",1),s("p",{class:d(["mb-0",t.Income[4]>0?"text-success":"text-danger"])},[s("span",es,o(t.Income[4])+"%",1),s("small",os,o(t.Income[5]),1)],2)])])]),s("div",as,[s("div",ns,[s("div",cs,[s("div",is,[ds,s("h4",ls,o(e.formatPrice(t.Expense[1]))+" ₭",1)]),s("p",rs,"ລາຍຈ່າຍເດືອນນີ້: "+o(e.formatPrice(t.Expense[2]))+" ₭",1),s("p",{class:d(["mb-0",t.Expense[4]>0?"text-success":"text-danger"])},[s("span",_s,o(t.Expense[4])+"%",1),s("small",hs,o(t.Expense[5]),1)],2)])])])])}const ps=f(C,[["render",ms]]);T.register(...P);const bs={mixins:[w],data(){return{DataTran:{data:[]},ttype:"all",DonutData:{labels:["ເງິນສົດ","ເງິນໃນບັນຊີ","ເງິນທັງໝົດ"],datasets:[{backgroundColor:["#3fc3ee","#f1556c","#f7b84b"],data:[0,0,0]}]},DonutOption:{responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{label:function(e,n){return" "+e.label+": "+Number(e.raw).toFixed(0).replace(/./g,function(r,_,t){return _>0&&r!=="."&&(t.length-_)%3===0?"."+r:r})+" ₭"}},mode:"index",intersect:!1},legend:{display:!1}}},YearNow:g().format("YYYY"),DonutYear:g().format("YYYY")}},components:{DoughnutChart:$},methods:{GetTran(e){this.GetData(`gettran/dashtran?page=${e}&type=${this.ttype}`,n=>{this.DataTran=n.dashtran})},GetMn(){this.GetData(`gettran/gmn?year=${this.DonutYear}`,e=>{this.DonutData.datasets[0].data=e})}},created(){this.GetTran(),this.GetMn()},watch:{ttype(){this.GetTran()},DonutYear(){this.GetMn()}}},us={class:"row"},fs={class:"col-md-8"},gs={class:"card"},vs={class:"card-header d-flex align-items-center justify-content-between"},xs=s("div",{class:"card-title mb-0"},[s("h5",{class:"m-0 me-2"},"ລາຍການເອກະສານ")],-1),Ds={class:"d-flex"},ws={class:"form-check me-2"},ys=s("label",{class:"form-check-label",for:"dpadding"}," ກຳລັງດຳເນີນການ ",-1),ks={class:"form-check"},Ys=s("label",{class:"form-check-label",for:"dall"}," ທັງໝົດ ",-1),Ts={class:"card-datatable table-responsive"},Ps={id:"DataTables_Table_0_wrapper",class:"dataTables_wrapper dt-bootstrap5 no-footer"},$s={class:"table-responsive"},Cs={class:"dt-route-vehicles table dataTable no-footer dtr-column"},Es=s("thead",{class:"border-top"},[s("tr",null,[s("th",{class:"sorting fs-6"}," ເລກທີ "),s("th",{class:"sorting fs-6"}," ວັນທີ "),s("th",{class:"sorting fs-6"},"ປະເພດເອກະສານ"),s("th",{class:"sorting fs-6"},"ຜູ້ບັນທຶກ"),s("th",{class:"sorting fs-6"},"ສະຖານະ")])],-1),Gs={key:0},Ns={class:"sorting_1"},js=s("br",null,null,-1),Ws={class:"progress w-75 me-2",style:{height:"8px"}},Is={key:1},Vs=s("tr",null,[s("td",{colspan:"5",class:"text-center"},[s("i",{class:"bx bxs-data me-1"}),l(" ບໍ່ມີຂໍ້ມູນ ")])],-1),Ms=[Vs],As={class:"col-md-4"},Bs={class:"card h-100"},Fs={class:"card-header d-flex align-items-center justify-content-between"},zs=s("div",{class:"card-title mb-0"},[s("h5",{class:"m-0 me-2"},"ຕິດຕາມກະແສເງິນ")],-1),Os={class:"dropdown"},Rs=s("button",{class:"btn p-0",type:"button",id:"deliveryExceptions","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[s("i",{class:"bx bx-dots-vertical-rounded"})],-1),Ss={class:"dropdown-menu dropdown-menu-end","aria-labelledby":"deliveryExceptions"},Us={key:0,class:"bx bx-check-circle text-success"},Ls={key:0,class:"bx bx-check-circle text-success"},qs={class:"card-body",style:{position:"relative"}},Hs={class:"card-footer p-0 border-0 bg-light-subtle"},Js={class:"row g-0 text-start"},Ks={class:"col-12 col-sm-12"},Qs={class:"p-3 border border-dashed border-start-0"},Xs={class:"mb-0 d-flex align-items-center"},Zs=s("i",{class:"bx bxs-circle text-warning me-2"},null,-1),st={class:"mb-0 d-flex align-items-center"},tt=s("i",{class:"bx bxs-circle text-danger me-2"},null,-1),et={class:"mb-0 d-flex align-items-center"},ot=s("i",{class:"bx bxs-circle text-info me-2"},null,-1);function at(e,n,r,_,t,p){const b=m("pagination"),u=m("DoughnutChart");return c(),i("div",us,[s("div",fs,[s("div",gs,[s("div",vs,[xs,s("div",Ds,[s("div",ws,[v(s("input",{name:"rd01",class:"form-check-input",type:"radio","onUpdate:modelValue":n[0]||(n[0]=a=>t.ttype=a),value:"padding",id:"dpadding"},null,512),[[x,t.ttype]]),ys]),s("div",ks,[v(s("input",{name:"rd01",class:"form-check-input",type:"radio",value:"all","onUpdate:modelValue":n[1]||(n[1]=a=>t.ttype=a),id:"dall"},null,512),[[x,t.ttype]]),Ys])])]),s("div",Ts,[s("div",Ps,[s("div",$s,[s("table",Cs,[Es,t.DataTran.data.length>0?(c(),i("tbody",Gs,[(c(!0),i(y,null,k(t.DataTran.data,a=>(c(),i("tr",{class:"odd",key:a.id},[s("td",Ns,o(a.dw_id),1),s("td",null,o(e.date(a.created_at)),1),s("td",null,[l(o(a.name)+" ",1),js]),s("td",null,o(a.user_name),1),s("td",null,[s("div",{class:d(["d-flex align-items-center",a.work_file<80?"text-danger":"text-info"])},[s("div",Ws,[s("div",{class:d(["progress-bar",a.work_file<80?"bg-danger":"bg-info"]),style:Y("width:"+a.work_file+"%"),role:"progressbar","aria-valuenow":"78","aria-valuemin":"0","aria-valuemax":"100"},null,6)]),s("span",null,o(a.work_file)+"%",1)],2)])]))),128))])):(c(),i("tbody",Is,Ms))]),h(b,{class:"mx-4",pagination:t.DataTran,onPaginate:n[2]||(n[2]=a=>p.GetTran(a)),offset:4},null,8,["pagination"])])])])])]),s("div",As,[s("div",Bs,[s("div",Fs,[zs,s("div",Os,[Rs,s("div",Ss,[s("a",{class:d(["dropdown-item",t.DonutYear==t.YearNow?"active":""]),href:"javascript:void(0);",onClick:n[3]||(n[3]=a=>t.DonutYear=t.YearNow)},[l("ປະຈຳປີ "+o(t.YearNow)+" ",1),t.DonutYear==t.YearNow?(c(),i("i",Us)):D("",!0)],2),s("a",{class:d(["dropdown-item",t.DonutYear=="all"?"active":""]),href:"javascript:void(0);",onClick:n[4]||(n[4]=a=>t.DonutYear="all")},[l("ທັງໝົດ "),t.DonutYear=="all"?(c(),i("i",Ls)):D("",!0)],2)])])]),s("div",qs,[h(u,{"chart-data":t.DonutData,options:t.DonutOption},null,8,["chart-data","options"])]),s("div",Hs,[s("div",Js,[s("div",Ks,[s("div",Qs,[s("p",Xs,[Zs,l(" ເງິນທັງໝົດ: "+o(e.formatPrice(t.DonutData.datasets[0].data[2]))+" ₭",1)]),s("p",st,[tt,l(" ເງິນໃນບັນຊີ: "+o(e.formatPrice(t.DonutData.datasets[0].data[1]))+" ₭",1)]),s("p",et,[ot,l(" ເງິນສົດ: "+o(e.formatPrice(t.DonutData.datasets[0].data[0]))+" ₭",1)])])])])])])])])}const nt=f(bs,[["render",at]]),ct={name:"DmsDashboard",data(){return{}},components:{DashTop:ps,DashTran:nt},mounted(){},methods:{}};function it(e,n,r,_,t,p){const b=m("DashTop"),u=m("DashTran");return c(),i(y,null,[h(b),h(u)],64)}const _t=f(ct,[["render",it]]);export{_t as default};
