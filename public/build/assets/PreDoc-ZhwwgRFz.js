import{_ as f,m as p,o as c,c as o,b as t,w as b,g as k,F as h,h as D,i as u,t as r,d as a,p as v,j as S}from"./app-kNdbHso9.js";const w={name:"DmsPreDoc",mixins:[p],data(){return{DocCatData:[],DocData:[],Dcat:"",listDoc:"",DocSelecte:{}}},components:{},computed:{PriceService(){let e=0;return this.DocCatData.length>0&&(e=this.DocCatData.find(i=>i.id==this.Dcat).price),e}},mounted(){},methods:{downloadItem(e,i){window.open(e,"_blank")},CheckFile(e){if(e){let i=[".jpg",".png",".jpeg"].some(s=>e.includes(s)),m=[".doc",".docx"].some(s=>e.includes(s)),_=[".pdf"].some(s=>e.includes(s));return i?"image":m?"doc":_?"pdf":"no"}},GetDocCat(){this.GetData("doccat",e=>{this.DocCatData=e.data})},GetDoc(e){this.GetData("doc/get/"+e,i=>{this.DocData=i})}},created(){this.GetDocCat()},watch:{DocCatData:function(e){if(e.length>0)if(this.Dcat==""){let i=e[0].id;this.GetDoc(i),this.Dcat=i}else{let i=this.Dcat;this.GetDoc(i)}},Dcat:function(e){this.GetDoc(e),this.listDoc="",this.DocSelecte=""},listDoc:function(e){e&&(this.DocSelecte=this.DocData.find(i=>i.id==e))}}},d=e=>(v("data-v-a83391e0"),e=e(),S(),e),y={class:"card"},C={class:"p-3 border-bottom"},L={class:"row"},U={class:"col-md-6 d-flex text-nowrap"},F=d(()=>t("label",{for:"doctype",class:"col-form-label fs-5 me-2 fw-bold"},"ປະເພດເອກະສານ:",-1)),R=["value"],x={class:"col-md-6 d-flex align-items-center"},I=d(()=>t("span",{class:"me-2 fw-bold fs-5"},"ຄ່າບໍລິການ: ",-1)),G={class:"fw-bold text-info fs-5"},j={class:"card-body"},P={class:"row"},V={class:"col-md-6"},B={class:"d-flex align-items-center"},N=d(()=>t("h5",{class:"m-0"},"ເອກະສານ ທີ່ຕ້ອງປະກອບ",-1)),E={key:0,class:"spinner-grow spinner-grow-sm text-warning ms-2",role:"status"},M=d(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),T=[M],q={class:"demo-inline-spacing mt-3"},z={class:"list-group shadow-sm"},A=["onClick"],H={key:0,class:"bx bxs-right-arrow-circle fs-4 text-warning"},J={class:"col-md-6"},K={class:"mb-2"},O=d(()=>t("span",{class:"fs-5 fw-bold"},"ຮູບພາບ:",-1)),Q={class:"mb-2"},W=["src"],X=["src"],Y=["src"],Z=["data"],$={key:1,class:"text-danger"},ee={class:"mb-2"},se=d(()=>t("span",{class:"fs-5 fw-bold"},"ເອກະສານຕົວຢ່າງ:",-1)),te={class:"mb-2"},ce=["src"],oe=["src"],ie=["src"],le=["data"],ae={key:1,class:"text-danger"},ne={class:"mb-2"},de=d(()=>t("span",{class:"fs-5 fw-bold"},"ຟອມເອກະສານ:",-1)),re={class:"mb-2"},me=["src"],_e=["src"],he=["src"],De=["data"],ue={key:1,class:"text-danger"};function ge(e,i,m,_,s,l){return c(),o("div",y,[t("div",C,[t("div",L,[t("div",U,[F,b(t("select",{id:"doctype","onUpdate:modelValue":i[0]||(i[0]=n=>s.Dcat=n),class:"form-select"},[(c(!0),o(h,null,D(s.DocCatData,n=>(c(),o("option",{key:n.id,value:n.id},r(n.name),9,R))),128))],512),[[k,s.Dcat]])]),t("div",x,[I,u(),t("span",G,r(e.formatPrice(l.PriceService))+" ກີບ",1)])])]),t("div",j,[t("div",P,[t("div",V,[t("div",B,[N,e.loading_table?(c(),o("div",E,T)):a("",!0)]),t("div",q,[t("ol",z,[(c(!0),o(h,null,D(s.DocData,(n,g)=>(c(),o("li",{key:n.id,onClick:fe=>s.listDoc=n.id,class:"list-group-item d-flex justify-content-between align-items-center cursor-pointer"},[t("span",null,r(g+1)+". "+r(n.doc_name),1),u(),s.listDoc==n.id?(c(),o("i",H)):a("",!0)],8,A))),128))])])]),t("div",J,[t("div",K,[O,t("div",Q,[l.CheckFile(s.DocSelecte.image)=="image"?(c(),o("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.image,class:"doc-img",alt:"",srcset:""},null,8,W)):a("",!0),l.CheckFile(s.DocSelecte.image)=="doc"?(c(),o("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,X)):a("",!0),l.CheckFile(s.DocSelecte.image)=="no"?(c(),o("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,Y)):a("",!0),l.CheckFile(s.DocSelecte.image)=="pdf"?(c(),o("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.image},null,8,Z)):a("",!0)]),s.DocSelecte.image?(c(),o("button",{key:0,class:"btn btn-primary",onClick:i[1]||(i[1]=n=>l.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.image))},"ດາວໂຫຼດ")):(c(),o("span",$," ບໍ່ມີຮູບ/ເອກະສານ "))]),t("div",ee,[se,t("div",te,[l.CheckFile(s.DocSelecte.doc_example)=="image"?(c(),o("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.doc_example,class:"doc-img",alt:"",srcset:""},null,8,ce)):a("",!0),l.CheckFile(s.DocSelecte.doc_example)=="doc"?(c(),o("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,oe)):a("",!0),l.CheckFile(s.DocSelecte.doc_example)=="no"?(c(),o("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,ie)):a("",!0),l.CheckFile(s.DocSelecte.doc_example)=="pdf"?(c(),o("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.doc_example},null,8,le)):a("",!0)]),s.DocSelecte.doc_example?(c(),o("button",{key:0,class:"btn btn-primary",onClick:i[2]||(i[2]=n=>l.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.doc_example))},"ດາວໂຫຼດ")):(c(),o("span",ae," ບໍ່ມີຮູບ/ເອກະສານ "))]),t("div",ne,[de,t("div",re,[l.CheckFile(s.DocSelecte.doc_form)=="image"?(c(),o("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.doc_form,class:"doc-img",alt:"",srcset:""},null,8,me)):a("",!0),l.CheckFile(s.DocSelecte.doc_form)=="doc"?(c(),o("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,_e)):a("",!0),l.CheckFile(s.DocSelecte.doc_form)=="no"?(c(),o("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,he)):a("",!0),l.CheckFile(s.DocSelecte.doc_form)=="pdf"?(c(),o("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.doc_form},null,8,De)):a("",!0)]),s.DocSelecte.doc_form?(c(),o("button",{key:0,class:"btn btn-primary",onClick:i[3]||(i[3]=n=>l.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.doc_form))},"ດາວໂຫຼດ")):(c(),o("span",ue," ບໍ່ມີຮູບ/ເອກະສານ "))])])])])])}const be=f(w,[["render",ge],["__scopeId","data-v-a83391e0"]]);export{be as default};
