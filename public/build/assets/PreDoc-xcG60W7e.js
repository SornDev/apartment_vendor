import{m as g}from"./ulmixins-3GuYya29.js";import{_ as f,c as t,a as o,w as p,m as b,F as h,r as D,f as a,o as c,t as r,b as k,p as v,q as S}from"./app-R5zms-zh.js";const y={name:"DmsPreDoc",mixins:[g],data(){return{DocCatData:[],DocData:[],Dcat:"",listDoc:"",DocSelecte:{}}},components:{},mounted(){},methods:{downloadItem(e,l){window.open(e,"_blank")},CheckFile(e){if(e){let l=[".jpg",".png",".jpeg"].some(s=>e.includes(s)),m=[".doc",".docx"].some(s=>e.includes(s)),_=[".pdf"].some(s=>e.includes(s));return l?"image":m?"doc":_?"pdf":"no"}},GetDocCat(){this.GetData("doccat",e=>{this.DocCatData=e.data})},GetDoc(e){this.GetData("doc/get/"+e,l=>{this.DocData=l})}},created(){this.GetDocCat()},watch:{DocCatData:function(e){if(e.length>0)if(this.Dcat==""){let l=e[0].id;this.GetDoc(l),this.Dcat=l}else{let l=this.Dcat;this.GetDoc(l)}},Dcat:function(e){this.GetDoc(e),this.listDoc="",this.DocSelecte=""},listDoc:function(e){e&&(this.DocSelecte=this.DocData.find(l=>l.id==e))}}},d=e=>(v("data-v-c365d929"),e=e(),S(),e),w={class:"card"},C={class:"p-3 border-bottom"},L={class:"row"},U=d(()=>o("label",{for:"doctype",class:"col-md-2 col-form-label fs-5"},"ປະເພດເອກະສານ:",-1)),F={class:"col-md-8"},R=["value"],I={class:"card-body"},x={class:"row"},G={class:"col-md-6"},j={class:"d-flex align-items-center"},V=d(()=>o("h5",{class:"m-0"},"ເອກະສານ ທີ່ຕ້ອງປະກອບ",-1)),B={key:0,class:"spinner-grow spinner-grow-sm text-warning ms-2",role:"status"},N=d(()=>o("span",{class:"visually-hidden"},"Loading...",-1)),P=[N],q={class:"demo-inline-spacing mt-3"},E={class:"list-group"},M=["onClick"],T={key:0,class:"bx bxs-right-arrow-circle fs-4 text-warning"},z={class:"col-md-6"},A={class:"mb-2"},H=d(()=>o("span",{class:"fs-5 fw-bold"},"ຮູບພາບ:",-1)),J={class:"mb-2"},K=["src"],O=["src"],Q=["src"],W=["data"],X={key:1,class:"text-danger"},Y={class:"mb-2"},Z=d(()=>o("span",{class:"fs-5 fw-bold"},"ເອກະສານຕົວຢ່າງ:",-1)),$={class:"mb-2"},ee=["src"],se=["src"],te=["src"],ce=["data"],oe={key:1,class:"text-danger"},le={class:"mb-2"},ie=d(()=>o("span",{class:"fs-5 fw-bold"},"ຟອມເອກະສານ:",-1)),ae={class:"mb-2"},ne=["src"],de=["src"],re=["src"],me=["data"],_e={key:1,class:"text-danger"};function he(e,l,m,_,s,i){return c(),t("div",w,[o("div",C,[o("div",L,[U,o("div",F,[p(o("select",{id:"doctype","onUpdate:modelValue":l[0]||(l[0]=n=>s.Dcat=n),class:"form-select"},[(c(!0),t(h,null,D(s.DocCatData,n=>(c(),t("option",{key:n.id,value:n.id},r(n.name),9,R))),128))],512),[[b,s.Dcat]])])])]),o("div",I,[o("div",x,[o("div",G,[o("div",j,[V,e.loading_table?(c(),t("div",B,P)):a("",!0)]),o("div",q,[o("ol",E,[(c(!0),t(h,null,D(s.DocData,(n,u)=>(c(),t("li",{key:n.id,onClick:De=>s.listDoc=n.id,class:"list-group-item d-flex justify-content-between align-items-center cursor-pointer"},[o("span",null,r(u+1)+". "+r(n.doc_name),1),k(),s.listDoc==n.id?(c(),t("i",T)):a("",!0)],8,M))),128))])])]),o("div",z,[o("div",A,[H,o("div",J,[i.CheckFile(s.DocSelecte.image)=="image"?(c(),t("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.image,class:"doc-img",alt:"",srcset:""},null,8,K)):a("",!0),i.CheckFile(s.DocSelecte.image)=="doc"?(c(),t("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,O)):a("",!0),i.CheckFile(s.DocSelecte.image)=="no"?(c(),t("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,Q)):a("",!0),i.CheckFile(s.DocSelecte.image)=="pdf"?(c(),t("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.image},null,8,W)):a("",!0)]),s.DocSelecte.image?(c(),t("button",{key:0,class:"btn btn-primary",onClick:l[1]||(l[1]=n=>i.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.image))},"ດາວໂຫຼດ")):(c(),t("span",X," ບໍ່ມີຮູບ/ເອກະສານ "))]),o("div",Y,[Z,o("div",$,[i.CheckFile(s.DocSelecte.doc_example)=="image"?(c(),t("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.doc_example,class:"doc-img",alt:"",srcset:""},null,8,ee)):a("",!0),i.CheckFile(s.DocSelecte.doc_example)=="doc"?(c(),t("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,se)):a("",!0),i.CheckFile(s.DocSelecte.doc_example)=="no"?(c(),t("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,te)):a("",!0),i.CheckFile(s.DocSelecte.doc_example)=="pdf"?(c(),t("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.doc_example},null,8,ce)):a("",!0)]),s.DocSelecte.doc_example?(c(),t("button",{key:0,class:"btn btn-primary",onClick:l[2]||(l[2]=n=>i.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.doc_example))},"ດາວໂຫຼດ")):(c(),t("span",oe," ບໍ່ມີຮູບ/ເອກະສານ "))]),o("div",le,[ie,o("div",ae,[i.CheckFile(s.DocSelecte.doc_form)=="image"?(c(),t("img",{key:0,src:e.baseURL+"/assets/file/"+s.DocSelecte.doc_form,class:"doc-img",alt:"",srcset:""},null,8,ne)):a("",!0),i.CheckFile(s.DocSelecte.doc_form)=="doc"?(c(),t("img",{key:1,src:e.baseURL+"/assets/img/word.png",class:"avatar",alt:"",srcset:""},null,8,de)):a("",!0),i.CheckFile(s.DocSelecte.doc_form)=="no"?(c(),t("img",{key:2,src:e.baseURL+"/assets/img/document.png",class:"avatar",alt:"",srcset:""},null,8,re)):a("",!0),i.CheckFile(s.DocSelecte.doc_form)=="pdf"?(c(),t("object",{key:3,width:"100%",height:"450",data:e.baseURL+"/assets/file/"+s.DocSelecte.doc_form},null,8,me)):a("",!0)]),s.DocSelecte.doc_form?(c(),t("button",{key:0,class:"btn btn-primary",onClick:l[3]||(l[3]=n=>i.downloadItem(e.baseURL+"/assets/file/"+s.DocSelecte.doc_form))},"ດາວໂຫຼດ")):(c(),t("span",_e," ບໍ່ມີຮູບ/ເອກະສານ "))])])])])])}const fe=f(y,[["render",he],["__scopeId","data-v-c365d929"]]);export{fe as default};
