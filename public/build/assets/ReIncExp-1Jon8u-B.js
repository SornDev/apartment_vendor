import{_ as b,C as y,A as g,m as v,k,L as C,r as _,o as a,c as i,b as e,d as c,q as p,i as u,e as h,t as d}from"./app-_hB8Ak0D.js";import{C as w}from"./flatpickr-qY4YnpEw.js";y.register(...g);const I={name:"DmsReIncExp",mixins:[v],data(){return{dmy:"m",date:k().format("YYYY-MM-DD"),config:{wrap:!0,altFormat:"d/m/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!1},chdata:[],choption:{plugins:{tooltip:{callbacks:{label:function(s,o){return Number(s.raw).toFixed(0).replace(/./g,function(l,n,t){return n>0&&l!=="."&&(t.length-n)%3===0?"."+l:l})+" ກີບ"}},mode:"index",intersect:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{display:!0,beginAtZero:!1,callback:function(s,o,l){return Number(s).toFixed(0).replace(/./g,function(n,t,m){return t>0&&n!=="."&&(m.length-t)%3===0?"."+n:n})+" ກີບ"}},gridLines:{show:!0}}}},sum_all_income:0,sum_all_expense:0,sum_all_profit:0}},components:{LineChart:C,flatPickr:w},mounted(){},methods:{GetInEx(){this.GetData(`gettran/incexp?dmy=${this.dmy}&date=${this.date}`,s=>{this.sum_all_income=s.sum_all_income,this.sum_all_expense=s.sum_all_expense,this.sum_all_profit=s.sum_all_profit,this.chdata={labels:s.label,datasets:[{label:"ລາຍຮັບ",fill:!1,borderColor:"#3fc3ee",data:s.income},{label:"ລາຍຈ່າຍ",fill:!1,borderColor:"#f1556c",data:s.expense},{label:"ກຳໄລ",fill:!1,borderColor:"#f7b84b",data:s.profit}]}})}},created(){this.GetInEx()},watch:{dmy(){this.GetInEx()},date(){this.GetInEx()}}},D={class:"row"},E={class:"col-md-12"},V={class:"card mb-4"},L={class:"card-header d-flex"},N=e("h5",{class:"mb-0"},"ລາຍງານ ລາຍຮັບ-ລາຍຈ່າຍ",-1),Y={key:0,class:"spinner-grow spinner-grow-sm text-warning ms-2",role:"status"},G=e("span",{class:"visually-hidden"},"Loading...",-1),F=[G],P={class:"card-body"},A={class:"input-group",style:{width:"240px"}},B={class:"input-group-text",id:"basic-addon11"},R={key:0,class:"bx bx-chevron-right"},M={key:0,class:"bx bx-chevron-right"},j={class:"d-flex justify-content-center"},q={style:{width:"350px"},class:"table table-bordered border mt-2"},z=e("thead",null,[e("tr",null,[e("td",{colspan:"2",class:"text-center"},"ລວມຍອດ")])],-1),S=e("td",{class:"text-end"},"ລາຍຮັບ:",-1),T={class:"text-end"},U=e("td",{class:"text-end"},"ລາຍຈ່າຍ:",-1),Z={class:"text-end"},H=e("td",{class:"text-end"},"ກຳໄລ:",-1),J={class:"text-end"};function K(s,o,l,n,t,m){const f=_("flat-pickr"),x=_("LineChart");return a(),i("div",D,[e("div",E,[e("div",V,[e("div",L,[N,s.loading_table?(a(),i("div",Y,F)):c("",!0)]),e("div",P,[e("div",null,[e("div",A,[e("span",B,[e("span",{class:p(["me-2 cursor-pointer",t.dmy=="m"?"text-success":""]),onClick:o[0]||(o[0]=r=>t.dmy="m")},[t.dmy=="m"?(a(),i("i",R)):c("",!0),u(" ເດືອນ ")],2),e("span",{class:p(["me-2 cursor-pointer",t.dmy=="y"?"text-success":""]),onClick:o[1]||(o[1]=r=>t.dmy="y")},[t.dmy=="y"?(a(),i("i",M)):c("",!0),u(" ປີ ")],2)]),h(f,{modelValue:t.date,"onUpdate:modelValue":o[2]||(o[2]=r=>t.date=r),config:t.config,class:"form-control",placeholder:"ວັນທີ່"},null,8,["modelValue","config"])])]),e("div",null,[h(x,{chartData:t.chdata,options:t.choption},null,8,["chartData","options"])]),e("div",j,[e("table",q,[z,e("tbody",null,[e("tr",null,[S,e("td",T,d(s.formatPrice(t.sum_all_income))+" ₭",1)]),e("tr",null,[U,e("td",Z,d(s.formatPrice(t.sum_all_expense))+" ₭",1)]),e("tr",null,[H,e("td",J,d(s.formatPrice(t.sum_all_profit))+" ₭",1)])])])])])])])])}const W=b(I,[["render",K]]);export{W as default};
