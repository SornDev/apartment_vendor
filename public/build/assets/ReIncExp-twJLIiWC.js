import{C as b,r as y,L as g}from"./index-YFxrcPsI.js";import{m as v,h as C}from"./ulmixins-3GuYya29.js";import{C as k}from"./flatpickr-tehUNNhR.js";import{_ as w,c as i,a as e,n as m,f as _,b as p,e as u,t as r,g as h,o as c}from"./app-R5zms-zh.js";b.register(...y);const I={name:"DmsReIncExp",mixins:[v],data(){return{dmy:"m",date:C().format("YYYY-MM-DD"),config:{wrap:!0,altFormat:"d/m/Y",altInput:!0,dateFormat:"Y-m-d",allowInput:!1},chdata:[],choption:{plugins:{tooltip:{callbacks:{label:function(s,o){return Number(s.raw).toFixed(0).replace(/./g,function(l,n,t){return n>0&&l!=="."&&(t.length-n)%3===0?"."+l:l})+" ກີບ"}},mode:"index",intersect:!1}},responsive:!0,maintainAspectRatio:!1,scales:{y:{ticks:{display:!0,beginAtZero:!1,callback:function(s,o,l){return Number(s).toFixed(0).replace(/./g,function(n,t,d){return t>0&&n!=="."&&(d.length-t)%3===0?"."+n:n})+" ກີບ"}},gridLines:{show:!0}}}},sum_all_income:0,sum_all_expense:0,sum_all_profit:0}},components:{LineChart:g,flatPickr:k},mounted(){},methods:{GetInEx(){this.GetData(`gettran/incexp?dmy=${this.dmy}&date=${this.date}`,s=>{this.sum_all_income=s.sum_all_income,this.sum_all_expense=s.sum_all_expense,this.sum_all_profit=s.sum_all_profit,this.chdata={labels:s.label,datasets:[{label:"ລາຍຮັບ",fill:!1,borderColor:"#3fc3ee",data:s.income},{label:"ລາຍຈ່າຍ",fill:!1,borderColor:"#f1556c",data:s.expense},{label:"ກຳໄລ",fill:!1,borderColor:"#f7b84b",data:s.profit}]}})}},created(){this.GetInEx()},watch:{dmy(){this.GetInEx()},date(){this.GetInEx()}}},D={class:"row"},E={class:"col-md-12"},V={class:"card mb-4"},N=e("h5",{class:"card-header"},"ລາຍງານ ລາຍຮັບ-ລາຍຈ່າຍ",-1),Y={class:"card-body"},G={class:"input-group",style:{width:"240px"}},L={class:"input-group-text",id:"basic-addon11"},F={key:0,class:"bx bx-chevron-right"},P={key:0,class:"bx bx-chevron-right"},B={class:"d-flex justify-content-center"},R={style:{width:"350px"},class:"table table-bordered border mt-2"},A=e("thead",null,[e("tr",null,[e("td",{colspan:"2",class:"text-center"},"ລວມຍອດ")])],-1),M=e("td",{class:"text-end"},"ລາຍຮັບ:",-1),j={class:"text-end"},z=e("td",{class:"text-end"},"ລາຍຈ່າຍ:",-1),S={class:"text-end"},T=e("td",{class:"text-end"},"ກຳໄລ:",-1),U={class:"text-end"};function Z(s,o,l,n,t,d){const f=h("flat-pickr"),x=h("LineChart");return c(),i("div",D,[e("div",E,[e("div",V,[N,e("div",Y,[e("div",null,[e("div",G,[e("span",L,[e("span",{class:m(["me-2 cursor-pointer",t.dmy=="m"?"text-success":""]),onClick:o[0]||(o[0]=a=>t.dmy="m")},[t.dmy=="m"?(c(),i("i",F)):_("",!0),p(" ເດືອນ ")],2),e("span",{class:m(["me-2 cursor-pointer",t.dmy=="y"?"text-success":""]),onClick:o[1]||(o[1]=a=>t.dmy="y")},[t.dmy=="y"?(c(),i("i",P)):_("",!0),p(" ປີ ")],2)]),u(f,{modelValue:t.date,"onUpdate:modelValue":o[2]||(o[2]=a=>t.date=a),config:t.config,class:"form-control",placeholder:"ວັນທີ່"},null,8,["modelValue","config"])])]),e("div",null,[u(x,{chartData:t.chdata,options:t.choption},null,8,["chartData","options"])]),e("div",B,[e("table",R,[A,e("tbody",null,[e("tr",null,[M,e("td",j,r(s.formatPrice(t.sum_all_income))+" ₭",1)]),e("tr",null,[z,e("td",S,r(s.formatPrice(t.sum_all_expense))+" ₭",1)]),e("tr",null,[T,e("td",U,r(s.formatPrice(t.sum_all_profit))+" ₭",1)])])])])])])])])}const O=w(I,[["render",Z]]);export{O as default};
