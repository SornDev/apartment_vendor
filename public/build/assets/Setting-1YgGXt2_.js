import{_ as p,m as g,u,o as l,c as d,b as t,d as m,w as a,v as c,n as _,p as f,j as h}from"./app-kNdbHso9.js";const v={name:"DmsSetting",mixins:[g],setup(){return{store:u()}},data(){return{SettingData:{company_name:"",company_tel:"",company_address:"",company_email:"",company_logo:"",printer_default:"",tax_value:""},imageLogoPreview:""}},mounted(){},methods:{onSelected(s){this.SettingData.company_logo=s.target.files[0];let e=new FileReader;e.readAsDataURL(this.SettingData.company_logo),e.addEventListener("load",(function(){this.imageLogoPreview=e.result}).bind(this),!1)},rm_img(){this.SettingData.company_logo="",this.imageLogoPreview=""},UpdateDataSetting(){this.UpdateData("setting/update",this.SettingData,s=>{s.success&&(this.SettingData=s.setting,localStorage.setItem("web_setting",JSON.stringify(s.setting)),this.store.set_setting(JSON.stringify(s.setting)),this.imageLogoPreview=window.location.origin+"/assets/img/"+s.setting.company_logo)})},GetDataSetting(){this.GetData("setting/get",s=>{this.SettingData=s,this.imageLogoPreview=window.location.origin+"/assets/img/"+s.company_logo})}},created(){this.GetDataSetting()}},n=s=>(f("data-v-14cb1e61"),s=s(),h(),s),b={class:"row"},y={class:"col-md-8"},S={class:"card card-action mb-4"},D={class:"card-header align-items-center"},x={class:"card-action-title mb-0 d-flex"},w=n(()=>t("h5",{class:"mb-0"},"ຕັ້ງຄ່າລະບົບ ",-1)),k={key:0,class:"spinner-grow spinner-grow-sm text-warning ms-2",role:"status"},U=n(()=>t("span",{class:"visually-hidden"},"Loading...",-1)),L=[U],V={class:"card-action-element"},C={class:"card-body"},P={class:"row"},I={class:"col-md-6"},N={class:"row"},B={class:"col-12"},G=n(()=>t("label",{for:"logo"},"ໂລໂກ້:",-1)),R={class:"d-flex justify-content-center"},j=n(()=>t("i",{class:"bx bx-image-add"},null,-1)),A=[j],E={key:1,class:"text-center cursur",style:{position:"relative"}},J=["src"],M=n(()=>t("i",{class:"bx bx-trash fs-4"},null,-1)),O=[M],F={class:"col-md-12 mb-2 mt-2"},T=n(()=>t("label",{for:"bs-name",class:"form-label fs-6"}," ຊື່ບໍລິສັດ:",-1)),q={class:"col-md-12 mb-2"},z=n(()=>t("label",{for:"bs-tel",class:"form-label fs-6"}," ເບີໂທ:",-1)),H={class:"col-md-12 mb-2"},K=n(()=>t("label",{for:"bs-tel",class:"form-label fs-6"}," ອີເມວລ໌:",-1)),Q={class:"col-md-12 mb-2"},W=n(()=>t("label",{for:"bs-add",class:"form-label fs-6"}," ທີ່ຢູ່:",-1)),X={class:"col-md-6"},Y={class:"row"},Z={class:"col-6"},$=n(()=>t("span",null," ຂະໜາດບິນເລີ່ມຕົ້ນ: ",-1)),tt={class:"d-flex"},et={class:"col-md"},st={class:"form-check form-check-inline mt-3"},ot=n(()=>t("label",{class:"form-check-label",for:"prta4"},"A4",-1)),it={class:"form-check form-check-inline"},nt=n(()=>t("label",{class:"form-check-label",for:"prt80"},"80mm",-1)),at={class:"col-6"},lt=n(()=>t("label",{for:"vt",class:"form-label fs-6"}," ອາກອນມູນຄ່າເພິ່ມ(ອມພ):",-1)),dt={class:"input-group",style:{width:"100px"}},ct=n(()=>t("span",{class:"input-group-text",id:"vt"},"%",-1));function rt(s,e,mt,_t,i,r){return l(),d("div",b,[t("div",y,[t("div",S,[t("div",D,[t("div",x,[w,s.loading_table?(l(),d("div",k,L)):m("",!0)]),t("div",V,[t("button",{class:"btn btn-primary btn-md",type:"button",onClick:e[0]||(e[0]=o=>r.UpdateDataSetting())},"ບັນທຶກ")])]),t("div",C,[t("div",P,[t("div",I,[t("div",N,[t("div",B,[G,t("div",R,[i.SettingData.company_logo?m("",!0):(l(),d("div",{key:0,class:"img-upload",onClick:e[1]||(e[1]=(...o)=>s.$refs.file.click&&s.$refs.file.click(...o))},A)),t("input",{type:"file",ref:"file",style:{display:"none"},onChange:e[2]||(e[2]=(...o)=>r.onSelected&&r.onSelected(...o))},null,544),i.SettingData.company_logo?(l(),d("div",E,[i.SettingData.company_logo?(l(),d("img",{key:0,class:"img-thumbnail avatar-xxl img-preview",onClick:e[3]||(e[3]=o=>s.$refs.file.click()),src:i.imageLogoPreview,"data-holder-rendered":"true"},null,8,J)):m("",!0),t("button",{type:"button",class:"btn rounded-pill btn-icon btn-danger",onClick:e[4]||(e[4]=o=>r.rm_img()),style:{position:"absolute",right:"30px",top:"10px"}},O)])):m("",!0)])]),t("div",F,[T,a(t("input",{type:"text",class:"form-control",id:"bs-name","onUpdate:modelValue":e[5]||(e[5]=o=>i.SettingData.company_name=o),placeholder:"......"},null,512),[[c,i.SettingData.company_name]])]),t("div",q,[z,a(t("input",{type:"text",class:"form-control",id:"bs-tel","onUpdate:modelValue":e[6]||(e[6]=o=>i.SettingData.company_tel=o),placeholder:"......"},null,512),[[c,i.SettingData.company_tel]])]),t("div",H,[K,a(t("input",{type:"text",class:"form-control",id:"bs-tel","onUpdate:modelValue":e[7]||(e[7]=o=>i.SettingData.company_email=o),placeholder:"......"},null,512),[[c,i.SettingData.company_email]])]),t("div",Q,[W,a(t("input",{type:"text",class:"form-control",id:"bs-add","onUpdate:modelValue":e[8]||(e[8]=o=>i.SettingData.company_address=o),placeholder:"......"},null,512),[[c,i.SettingData.company_address]])])])]),t("div",X,[t("div",Y,[t("div",Z,[$,t("div",tt,[t("div",et,[t("div",st,[a(t("input",{class:"form-check-input",type:"radio",name:"printdefault",id:"prta4","onUpdate:modelValue":e[9]||(e[9]=o=>i.SettingData.printer_default=o),value:"a4"},null,512),[[_,i.SettingData.printer_default]]),ot]),t("div",it,[a(t("input",{class:"form-check-input",type:"radio",name:"printdefault",id:"prt80","onUpdate:modelValue":e[10]||(e[10]=o=>i.SettingData.printer_default=o),value:"80"},null,512),[[_,i.SettingData.printer_default]]),nt])])])]),t("div",at,[lt,t("div",dt,[a(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=o=>i.SettingData.tax_value=o),placeholder:"%"},null,512),[[c,i.SettingData.tax_value]]),ct])])])])])])])])])}const gt=p(v,[["render",rt],["__scopeId","data-v-14cb1e61"]]);export{gt as default};
