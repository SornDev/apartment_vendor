import{m as p}from"./ulmixins-3GuYya29.js";import{_ as g,u,c,a as t,f as m,w as n,h as l,v as _,o as r,p as f,q as h}from"./app-R5zms-zh.js";const v={name:"DmsSetting",mixins:[p],setup(){return{store:u()}},data(){return{SettingData:{company_name:"",company_tel:"",company_address:"",company_email:"",company_logo:"",printer_default:"",tax_value:""},imageLogoPreview:""}},mounted(){},methods:{onSelected(o){this.SettingData.company_logo=o.target.files[0];let e=new FileReader;e.readAsDataURL(this.SettingData.company_logo),e.addEventListener("load",(function(){this.imageLogoPreview=e.result}).bind(this),!1)},rm_img(){this.SettingData.company_logo="",this.imageLogoPreview=""},UpdateDataSetting(){this.UpdateData("setting/update",this.SettingData,o=>{o.success&&(this.SettingData=o.setting,localStorage.setItem("web_setting",JSON.stringify(o.setting)),this.store.set_setting(JSON.stringify(o.setting)),this.imageLogoPreview=window.location.origin+"/assets/img/"+o.setting.company_logo)})},GetDataSetting(){this.GetData("setting/get",o=>{this.SettingData=o,this.imageLogoPreview=window.location.origin+"/assets/img/"+o.company_logo})}},created(){this.GetDataSetting()}},a=o=>(f("data-v-d745a53c"),o=o(),h(),o),b={class:"row"},y={class:"col-md-8"},S={class:"card card-action mb-4"},D={class:"card-header align-items-center"},x=a(()=>t("h5",{class:"card-action-title mb-0"},"ຕັ້ງຄ່າລະບົບ ",-1)),w={class:"card-action-element"},k={class:"card-body"},U={class:"row"},V={class:"col-md-6"},L={class:"row"},C={class:"col-12"},P=a(()=>t("label",{for:"logo"},"ໂລໂກ້:",-1)),I={class:"d-flex justify-content-center"},N=a(()=>t("i",{class:"bx bx-image-add"},null,-1)),B=[N],G={key:1,class:"text-center cursur",style:{position:"relative"}},R=["src"],A=a(()=>t("i",{class:"bx bx-trash fs-4"},null,-1)),E=[A],J={class:"col-md-12 mb-2 mt-2"},M=a(()=>t("label",{for:"bs-name",class:"form-label fs-6"}," ຊື່ບໍລິສັດ:",-1)),O={class:"col-md-12 mb-2"},j=a(()=>t("label",{for:"bs-tel",class:"form-label fs-6"}," ເບີໂທ:",-1)),q={class:"col-md-12 mb-2"},F=a(()=>t("label",{for:"bs-tel",class:"form-label fs-6"}," ອີເມວລ໌:",-1)),T={class:"col-md-12 mb-2"},z=a(()=>t("label",{for:"bs-add",class:"form-label fs-6"}," ທີ່ຢູ່:",-1)),H={class:"col-md-6"},K={class:"row"},Q={class:"col-6"},W=a(()=>t("span",null," ຂະໜາດບິນເລີ່ມຕົ້ນ: ",-1)),X={class:"d-flex"},Y={class:"col-md"},Z={class:"form-check form-check-inline mt-3"},$=a(()=>t("label",{class:"form-check-label",for:"prta4"},"A4",-1)),tt={class:"form-check form-check-inline"},et=a(()=>t("label",{class:"form-check-label",for:"prt80"},"80mm",-1)),st={class:"col-6"},ot=a(()=>t("label",{for:"vt",class:"form-label fs-6"}," ອາກອນມູນຄ່າເພິ່ມ(ອມພ):",-1)),it={class:"input-group",style:{width:"100px"}},at=a(()=>t("span",{class:"input-group-text",id:"vt"},"%",-1));function nt(o,e,lt,dt,i,d){return r(),c("div",b,[t("div",y,[t("div",S,[t("div",D,[x,t("div",w,[t("button",{class:"btn btn-primary btn-md",type:"button",onClick:e[0]||(e[0]=s=>d.UpdateDataSetting())},"ບັນທຶກ")])]),t("div",k,[t("div",U,[t("div",V,[t("div",L,[t("div",C,[P,t("div",I,[i.SettingData.company_logo?m("",!0):(r(),c("div",{key:0,class:"img-upload",onClick:e[1]||(e[1]=(...s)=>o.$refs.file.click&&o.$refs.file.click(...s))},B)),t("input",{type:"file",ref:"file",style:{display:"none"},onChange:e[2]||(e[2]=(...s)=>d.onSelected&&d.onSelected(...s))},null,544),i.SettingData.company_logo?(r(),c("div",G,[i.SettingData.company_logo?(r(),c("img",{key:0,class:"img-thumbnail avatar-xxl img-preview",onClick:e[3]||(e[3]=s=>o.$refs.file.click()),src:i.imageLogoPreview,"data-holder-rendered":"true"},null,8,R)):m("",!0),t("button",{type:"button",class:"btn rounded-pill btn-icon btn-danger",onClick:e[4]||(e[4]=s=>d.rm_img()),style:{position:"absolute",right:"30px",top:"10px"}},E)])):m("",!0)])]),t("div",J,[M,n(t("input",{type:"text",class:"form-control",id:"bs-name","onUpdate:modelValue":e[5]||(e[5]=s=>i.SettingData.company_name=s),placeholder:"......"},null,512),[[l,i.SettingData.company_name]])]),t("div",O,[j,n(t("input",{type:"text",class:"form-control",id:"bs-tel","onUpdate:modelValue":e[6]||(e[6]=s=>i.SettingData.company_tel=s),placeholder:"......"},null,512),[[l,i.SettingData.company_tel]])]),t("div",q,[F,n(t("input",{type:"text",class:"form-control",id:"bs-tel","onUpdate:modelValue":e[7]||(e[7]=s=>i.SettingData.company_email=s),placeholder:"......"},null,512),[[l,i.SettingData.company_email]])]),t("div",T,[z,n(t("input",{type:"text",class:"form-control",id:"bs-add","onUpdate:modelValue":e[8]||(e[8]=s=>i.SettingData.company_address=s),placeholder:"......"},null,512),[[l,i.SettingData.company_address]])])])]),t("div",H,[t("div",K,[t("div",Q,[W,t("div",X,[t("div",Y,[t("div",Z,[n(t("input",{class:"form-check-input",type:"radio",name:"printdefault",id:"prta4","onUpdate:modelValue":e[9]||(e[9]=s=>i.SettingData.printer_default=s),value:"a4"},null,512),[[_,i.SettingData.printer_default]]),$]),t("div",tt,[n(t("input",{class:"form-check-input",type:"radio",name:"printdefault",id:"prt80","onUpdate:modelValue":e[10]||(e[10]=s=>i.SettingData.printer_default=s),value:"80"},null,512),[[_,i.SettingData.printer_default]]),et])])])]),t("div",st,[ot,t("div",it,[n(t("input",{type:"text",class:"form-control","onUpdate:modelValue":e[11]||(e[11]=s=>i.SettingData.tax_value=s),placeholder:"%"},null,512),[[l,i.SettingData.tax_value]]),at])])])])])])])])])}const mt=g(v,[["render",nt],["__scopeId","data-v-d745a53c"]]);export{mt as default};
